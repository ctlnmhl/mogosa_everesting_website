// Translations for multiple pages
const translations = {
    ro: {
        "menu1": "Cursa",
        "menu2": "Program",
        "menu3": "Înscriere",
        "menu4": "Regulament",
        "menu5": "Parteneri",
        "main-date": "2 August",
        "register-subtitle": "Înscrie-te acum!",
        "copyright": "2025 RunForYourLife. Toate drepturile rezervate.",
        "race-title": "Detaliile Cursei",
        "race-description": "Conceptul de Everesting este unul simplu dar brutal în același timp. Ai nevoie de o pantă pe care să o urci de atâtea ori până când atingi un total de 8848 de metri, altitudinea vârfului Everest.<br>Pârtia Suior/Mogoșa urcata de 18 ori, până pe Vârful Mogoșa, e Everestul tău,  76 km cu 8848 metri altitudine urcată și 8848 metri altitudine coborâtă.",
        "race-subtitle1": "Competiția",
        "race-subtitle1-description": "<li>Primești medalia de finisher dacă urci/cobori cel puțin o dată Vârful Mogoșa. Tu decizi care este Everestul tău, câte urcări poți să faci. Competiția e cu tine însuți.</li><li>Clasamentul se face în funcție de numarul de urcări. La același număr de urcări diferențierea se face în funcție de timpul realizat.</li><li>Câștigătorii competiției și ai Cupei Mogoșa Everesting sunt toți cei care reușesc performanța de a urca/coborî Mogoșa de 18 ori, 8848 metri diferență de nivel, înălțimea Everest, într-un termen limită de 24 de ore.</li><li>Premii din partea partenerilor și Cupa Mogoșa Everesting pentru toți concurenții care reușesc 18 ture, +8848m, 72 km.</li><li>Medalii și premii din partea partenerilor pentru primii 3 la fiecare categoria de varstă, în funcție de numarul de ture realizate. Câștigătorii sunt cei care reușesc cele mai multe ture într-un timp cat mai scurt. Categorii: 18-29; 30-39; 40-49; 50-59; 60+  Feminin respectiv Masculin.</li>",
        "race-subtitle2": "Mogoșa Everesting Junior",
        "race-subtitle2-description": "<li>De la cel mai mic până la cel mai mare!</li><li>Poți participa cu bebe tău în rucsac special de transport, în marsupiu sau orice sistem de purtare.</li><li>Sau poți să-l încurajezi să facă cel puțin o urcare alături tine daca are sub 14 ani.</li><li>Ori poți sa-l responsabilizezi să participe singur dacă are peste 14 ani.</li><li>Copiii vor avea medaliile lor, clasamentul lor si categoriile lor.</li>",
        
        "program-title": "Program",
        "program-subtitle1": "VINERI 1 August 2025",
        "program-subtitle1-description": "<li>18:00 - 20:00<br>Ridicare kituri participanți de la Domeniul Mogoșa</li>",
        "program-subtitle2": "SÂMBĂTĂ 2 August 2025",
        "program-subtitle2-description": "<li>7:00 - 8:00<br>Ridicare kituri participanți de la Domeniul Mogoșa</li><li>9:00<br>Start Mogoșa Everesting</li>",
        "program-subtitle3": "DUMINICĂ 3 August 2025",
        "program-subtitle3-description": "<li>9:00 <br>Finish - Termen limită: 24 ore</li><li>10:00<br>Festivitatea de premiere</li>",
        "program-subtitle4": "PUNCT DE START",

        "register-title": "Înscriere",
        "register-subtitle1": "Kitul participantului",
        "register-subtitle1-description": "<li>Tricou tehnic SPORT HG - tricou special pentru alergare</li><li>Medalie finisher - dacă faci cel puțin o urcare pe Vf. Mogoșa</li><li>Pasta Party</li><li>Cronometrare electronică</li><li>Rezultate online în timp real pe aplicația LIVE TRAIL - prietenii tăi pot fi alături de tine de acasă</li>",
        "register-subtitle2": "Contribuția de participare",
        "register-subtitle2-description": "<thead><tr><th>Perioadă</th><th>Preț</th></tr></thead><tbody><tr><td>► 31 Decembrie 2024</td><td>160 Lei</td></tr><tr><td>1 Ianuarie 2025 - 31 Martie 2025</td><td>180 Lei</td></tr><tr><td>1 Aprilie 2025 - 30 Iunie 2025</td><td>200 Lei</td></tr><tr><td>1 Iulie 2025 - 31 Iulie 2025</td><td>220 Lei</td></tr></tbody>",
        "register-subtitle3": "<b>FORMULAR DE ÎNSCRIERE</b>",
        "register-subtitle3-description": "Pregătim o nouă sesiune de înscrieri.<br>Rămâi aproape!",
        "register-subtitle4": "<b>LISTĂ PARTICIPANȚI</b>",

        "partners-title": "Parteneri",
    },
    en: {
        "menu1": "Race",
        "menu2": "Schedule",
        "menu3": "Registration",
        "menu4": "Regulations",
        "menu5": "Partners",
        "main-date": "August 2",
        "register-subtitle": "Register now!",
        "copyright": "2025 RunForYourLife. All rights reserved.",
        "race-title": "Race Details",
        "race-description": "The concept of Everesting is simple but brutal at the same time. You need a slope that you climb repeatedly until you reach a total of 8,848 meters, the altitude of Mount Everest.<br>The Suior/Mogoșa slope, climbed 18 times, up to Mogoșa Peak, is your Everest, 76 km with 8,848 meters of altitude climbed and 8,848 meters of altitude descended.",
        "race-subtitle1": "The competition",
        "race-subtitle1-description": "<li>You receive a finisher's medal if you climb/descend Mogoșa Peak at least once. You decide what your Everest is, how many climbs you can do. The competition is with yourself.</li><li>The ranking is based on the number of climbs. With the same number of climbs, the differentiation is based on the time achieved.</li><li>The winners of the competition and the Mogoșa Everesting Cup are all those who manage to climb/descend Mogoșa 18 times, 8848 meters of elevation difference, the height of Everest, within a 24-hour deadline.</li><li>Prizes from partners and the Mogoșa Everesting Cup for all competitors who manage 18 laps, +8848m, 72 km.</li><li>Medals and prizes from partners for the first 3 in each age category, depending on the number of laps achieved. The winners are those who complete the most laps in the shortest time. Categories: 18-29; 30-39; 40-49; 50-59; 60+ Female and Male.</li>",
        "race-subtitle2": "Mogoșa Everesting Junior",
        "race-subtitle2-description": "<li>From the smallest to the oldest!</li><li>You can participate with your baby in a special transport backpack, in a baby carrier or any carrying system.</li><li>Or you can encourage him to do at least one climb with you if he is under 14 years old.</li><li>Or you can make him responsible to participate alone if he is over 14 years old.</li><li>Children will have their own medals, their own ranking and their own categories.</li>",
        
        "program-title": "Schedule",
        "program-subtitle1": "FRIDAY August 1, 2025",
        "program-subtitle1-description": "<li>18:00 - 20:00<br>Participant kit pick-up from Mogoșa Domain</li>",
        "program-subtitle2": "SATURDAY 2 August 2025",
        "program-subtitle2-description": "<li>7:00 - 8:00<br>Participant kits pick-up from Mogoșa Domain</li><li>9:00<br>Mogoșa Everesting start</li>",
        "program-subtitle3": "SUNDAY August 3, 2025",
        "program-subtitle3-description": "<li>9:00 <br>Finish - Deadline: 24 hours</li><li>10:00<br>Awards Ceremony</li>",
        "program-subtitle4": "STARTING POINT",

        "register-title": "Registration",
        "register-subtitle1": "Participant kit",
        "register-subtitle1-description": "<li>SPORT HG technical t-shirt - special t-shirt for running</li> <li>Finisher medal - if you make at least one climb to Vf. Mogoșa</li> <li>Pasta Party</li> <li>Electronic timing</li> <li>Real-time online results on the LIVE TRAIL app - your friends can be with you from home</li>",
        "register-subtitle2": "Participation fee",
        "register-subtitle2-description": "<thead><tr><th>Period</th><th>Price</th></tr></thead><tbody><tr><td>► December 31, 2024</td><td>160 Lei</td></tr><tr><td>January 1, 2025 - March 31, 2025</td><td>180 Lei</td></tr><tr><td>April 1, 2025 - June 30, 2025</td><td>200 Lei</td></tr><tr><td>July 1, 2025 - July 31, 2025</td><td>220 Lei</td></tr></tbody>",
        "register-subtitle3": "<b>REGISTRATION FORM</b>",
        "register-subtitle3-description": "We are preparing a new registration session.<br>Stay tuned!",
        "register-subtitle4": "<b>LIST OF PARTICIPANTS</b>",

        "partners-title": "Partners",
    },
    hu: {
        "menu1": "Verseny",
        "menu2": "Ütemezések",
        "menu3": "Regisztráció",
        "menu4": "Szabályzat",
        "menu5": "Partnerek",
        "main-date": "Augusztus 2",
        "register-subtitle": "Regisztráljon most!",
        "copyright": "2025 RunForYourLife. Minden jog fenntartva",
        "intro-description": "Ez az előzetes leírás magyarul.",
        "race-title": "A verseny részletei",
        "race-description": "Az Everesting koncepciója egyszerre egyszerű és brutális. Szükséged van egy emelkedőre, amelyet addig mászol meg újra és újra, amíg el nem éred az összesen 8 848 métert, ami a Mount Everest magasságának felel meg.<br>A Suior/Mogoșa emelkedőt 18-szor megmászva, egészen a Mogoșa csúcsig, ez lesz a te Everested: 76 km, 8 848 méter szintemelkedéssel és 8 848 méter szintcsökkenéssel.",
        "race-subtitle1": "A verseny",
        "race-subtitle1-description": "<li>A befutó érmét akkor kapod, ha legalább egyszer megmászod/leszállsz a Mogoșa-csúcsra. Te döntöd el, mi az Everested, hány mászást tudsz megtenni. A verseny önmagaddal zajlik.</li><li>A rangsor az emelkedők száma alapján történik. Azonos emelkedőszám mellett a megkülönböztetés az elért idő alapján történik.</li><li>A verseny és a Mogoșa Everesting Kupa győztesei mindazok, akik 18-szor, 8848 méteres magasságban képesek megmászni/leszállni Mogoșán különbséget, az Everest magasságát, 24 órás határidőn belül.</li><li>Díjak a partnerektől és a Mogoșa Everesting Kupa mindenkinek versenyzők, akik 18 kört, +8848 métert, 72 km-t teljesítenek.</li><li>Érmek és díjak a partnerektől minden korosztály első 3 helyezettje számára, az elért körök számától függően. A győztesek azok, akik a legtöbb kört teszik meg a legrövidebb idő alatt. Kategóriák: 18-29; 30-39; 40-49; 50-59; 60+ nő és férfi.</li>",
        "race-subtitle2": "Mogoșa Everesting Junior",
        "race-subtitle2-description": "<li>A legkisebbtől a legidősebbig!</li><li>Részt vehetsz babával egy speciális szállító hátizsákban, babahordozóban vagy bármilyen hordozórendszerben.</li><li>Vagy bátoríthatod is. legalább egy mászást veled, ha még nem töltötte be 14 éves korát.</li><li>Vagy felelőssé teheti, hogy egyedül vegyen részt, ha 14 évesnél idősebb.</li><li>A gyerekeknek a saját érmeiket, a saját helyezésüket és a sajátjukat kategóriákban.</li>",
        
        "program-title": "Menetrend",
        "program-subtitle1": "PÉNTEK, 2025. augusztus 1.",
        "program-subtitle1-description": "<li>18:00 - 20:00<br>Részvevői készlet átvétele a Mogoșa domainről</li>",
        "program-subtitle2": "SZOMBAT, 2025. augusztus 2.",
        "program-subtitle2-description": "<li>7:00 - 8:00<br>Részvevői készletek átvétele a Mogoșa domainről</li><li>9:00<br>Mogoșa Everesting start</li>",
        "program-subtitle3": "VASÁRNAP 2025. augusztus 3.",
        "program-subtitle3-description": "<li>9:00 <br>Befejezés - Határidő: 24 óra</li><li>10:00<br>Díjkiosztó</li>",
        "program-subtitle4": "KIINDULÓPONT",

        "register-title": "Bejegyzés",
        "register-subtitle1": "Résztvevő készlet",
        "register-subtitle1-description": "<li>SPORT HG technikai póló - speciális futáshoz póló</li> <li>Finiser érem - ha legalább egyszer megmászik a Vf-ig. Mogoșa</li> <li>Tésztaparti</li> <li>Elektronikus időzítés</li> <li>Valós idejű online eredmények a LIVE TRAIL alkalmazásban – barátai otthonról is veled lehetnek</li>",
        "register-subtitle2": "Részvételi díj",
        "register-subtitle2-description": "<thead><tr><th>Időszak</th><th>Ár</th></tr></thead><tbody><tr><td>► 2024. december 31.</td><td >160 lej</td></tr><tr><td>2025. január 1. – 2025. március 31.</td><td>180 Lei</td></tr><tr><td>2025. április 1. – 2025. június 30.</td><td>200 lej</td></tr><tr><td>július 1. 2025 – 2025. július 31.</td><td>220 Lei</td></tr></tbody>",
        "register-subtitle3": "<b>REGISZTRÁCIÓS LAP</b>",
        "register-subtitle3-description": "Új regisztrációs időszakra készülünk.<br>Keressen velünk!",
        "register-subtitle4": "<b>RÉSZTVEVŐK LISTÁJA</b>",

        "partners-title": "Partnerek",
    },
};

// Dropdown functionality
const dropdown = document.querySelector(".dropdown");
const dropdownToggle = document.querySelector(".dropdown-toggle");
const dropdownMenu = document.querySelector(".dropdown-menu");
const selectedFlag = document.getElementById("selected-flag");

// Elements to translate
const translatableElements = document.querySelectorAll("[data-translate]");

// Toggle dropdown visibility
dropdownToggle.addEventListener("click", (event) => {
    event.stopPropagation();
    dropdown.classList.toggle("active");
});

// Update content and selected flag when an option is clicked
dropdownMenu.addEventListener("click", (event) => {
    const target = event.target.closest("li");
    if (!target) return;

    const selectedLang = target.dataset.lang;
    const selectedFlagSrc = target.querySelector("img").src;

    applyTranslations(selectedLang)

    // Update the selected flag
    selectedFlag.src = selectedFlagSrc;

    // Close the dropdown
    dropdown.classList.remove("active");

    // Save language preference (optional)
    localStorage.setItem("preferredLanguage", selectedLang);
});

// Load saved language preference and flag
const savedLanguage = localStorage.getItem("preferredLanguage") || "ro";
selectedFlag.src = document.querySelector(`[data-lang="${savedLanguage}"] img`).src;

// Close dropdown if clicking outside
document.addEventListener("click", () => {
    dropdown.classList.remove("active");
});

// Apply Translations on Page Load
document.addEventListener("DOMContentLoaded", function () {
    applyTranslations(savedLanguage);
});

function applyTranslations(lang) {

    // Update all translatable content
    translatableElements.forEach((el) => {
        const key = el.getAttribute("data-translate");
        el.innerHTML = translations[lang][key];
    });

    // Rebuild navigation
    const nav = $("#nav");
    const navContent = nav.navList(translations[lang]);
    $("#navPanel").html(navContent);
}
